<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Dashboard | Tutora</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js"></script>
</head>
<body>
    <div class="dashboard-container">
        <!-- Header -->
        <header>
            <h1>Welcome, <span id="studentName">Student</span>!</h1>
            <button id="logoutBtn">Log Out</button>
        </header>
        
        <!-- Sidebar Navigation -->
        <nav class="sidebar">
            <ul>
                <li><a href="#" id="viewSchedule">ğŸ“… My Sessions</a></li>
                <li><a href="#" id="bookTutor">ğŸ“– Book a Tutor</a></li>
                <li><a href="#" id="profileSettings">âš™ï¸ Profile Settings</a></li>
            </ul>
        </nav>
        
        <!-- Main Content Area -->
        <main id="contentArea">
            <h2>ğŸ“… Your Tutoring Sessions</h2>
            <div id="sessionList">Loading...</div>
        </main>
    </div>
    
    <script>
        // Firebase Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyCmzDsxlhQwMZTlpnPlVLRRVxDQZwKW6zI",
            authDomain: "tutora-93be2.firebaseapp.com",
            projectId: "tutora-93be2",
            storageBucket: "tutora-93be2.appspot.com",
            messagingSenderId: "538400859458",
            appId: "1:538400859458:web:1c45fe0364821442d854db"
        };

        const app = firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();

        // Load student name from Firestore
        auth.onAuthStateChanged(async (user) => {
            if (user) {
                const userDoc = await db.collection("users").doc(user.uid).get();
                if (userDoc.exists) {
                    document.getElementById("studentName").textContent = userDoc.data().firstName;
                }
            } else {
                window.location.href = "index.html";
            }
        });
        
        // Logout Function
        document.getElementById("logoutBtn").addEventListener("click", () => {
            auth.signOut().then(() => {
                window.location.href = "index.html";
            });
        });
    </script>
</body>
</html>
